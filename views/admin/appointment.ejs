<%- include('./partials/head') %>

  <body>
    <main class="admin-panel">
      <%- include('./partials/sidebar') %>
        </div>
        <div class="content">
          <div class="row">
            <div class="col-11">
              <h1>Welcome, Admin!</h1>
              <p>This is the admin panel for the patient management system.</p>
            </div>
            <div class="col-1">
              <button type="button" class="btn btn-danger logoutB" href="#">LogOut</button>
            </div>
          </div>
          <div class="row">
            <div class="col-3">
              <button id="overviewToggleBtn" type="button" class="btn btn-primary">Overview Of Doctors</button>
            </div>
            <div class="col-3">
              <button id="toggleBtn" type="button" class="btn btn-primary">Create Appointment</button>
            </div>
          </div>
          <div class="block">
            <div id="Registation" class="hidden">
              <h3 style="text-align: center;">Appointment Creation Form</h3>

              <form action="/admin/appointment/new" method="POST" novalidate class="validated-form">

                <label for="nic">Search Input</label>
                <input type="text" id="nic" name="appointment[doctor.nic]" />
                <br />
                <!-- Appointment Date -->
                <label for="date">Date:</label>
                <input type="date" id="date" name="appointment[date]" required />
                <br />

                <!-- Appointment Time -->
                <label for="time">Time:</label>
                <input type="time" id="time" name="appointment[time]" required />
                <br />

                <!-- Room Number -->
                <label for="roomNumber">Room Number:</label>
                <input type="number" id="roomNumber" name="appointment[roomNumber]" min="1" max="20" required />
                <br />
                <label for="maximumPatients">maximum Patients:</label>
                <input type="number" id="maximumPatients" name="appointment[maximumPatients]" required />
                <br />


                <div class="mb-3">
                  <button type="submit" class="btn btn-primary form-control">Create Appointment</button>
                </div>
              </form>
            </div>

            <!-- add some overview Of Doctors -->
            <div id="overview" class="">
              <!-- <section>
                <form action="" method="post">

                  <label for="selectType">Select Type</label>
                  <select name="selectType" id="selectType" style="display: inline-block;">
                    <option value="doctor">Doctors</option>
                    <option value="Specialization">Specialization</option>
                    <option value="Specialization">Email</option>
                    <option value="Specialization">NIC</option>
                    <option value="Specialization">Phone Number</option>

                  </select>

                  <input type="text" id="DoctorSearchInput" name="DoctorSearchInput"
                    placeholder="Search Doctor Name (Max 30 Characters)">
                  <button id="DoctorSearchBtn">Search</button>

                </form>
              </section> -->
              <!-- <div class="d-flex justify-content-around mb-3">
                <div class="col-5 d-flex justify-content-around" style="margin-top: 50px;">
                  <label for="nameofDoctor" style="margin: 10px;">
                    <h3>Name: </h3>
                  </label>
                  <input type="text" id="searchDoctor" class="form-control" name="doctor[search]" style="margin: 10px;"
                    required>
                  <button type="" class="btn btn-primary form-control" style="margin: 10px;">Search</button>
                </div> -->

              <!-- Use for get all the doctors -->
              <div class="col-5" style="margin-top: 59px;">
                <a href="/admin/appointment/all" class="btn btn-primary form-control">Get All Appointment</a>
              </div>
            </div>
          </div>
        </div>
        </div>
        </div>
    </main>

    <script>

      var toggleBtn = document.getElementById('toggleBtn');
      var content = document.getElementById('Registation');

      var overviewToggleBtn = document.getElementById('overviewToggleBtn');
      var Overview = document.getElementById('overview');

      toggleBtn.addEventListener('click', function () {
        if (content.classList.contains('hidden')) {
          Overview.classList.add('hidden');
          content.classList.remove('hidden');
        } else {
          content.classList.add('hidden');
        }
      });

      overviewToggleBtn.addEventListener('click', function () {
        if (Overview.classList.contains('hidden')) {
          content.classList.add('hidden');
          Overview.classList.remove('hidden');
        } else {
          Overview.classList.add('hidden');
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"></script>
    <script src="/javascripts/boostrapFormValidation.js"></script>
    <script src="/javascripts/admin/admin.js"></script>
    <script>
      // Get the current date
      const currentDate = new Date();
  
      // Set the date for the next day
      currentDate.setDate(currentDate.getDate() + 1);
  
      // Format the next day as 'YYYY-MM-DD' for setting the minimum date
      const nextDay = currentDate.toISOString().split("T")[0];
  
      // Set the minimum date for the appointment date input
      document.getElementById("date").min = nextDay;
    </script>
  </body>

  </html>